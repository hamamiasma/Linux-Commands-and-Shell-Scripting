# ğŸ“ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ

## ğŸ“‹ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª

- [Ù…Ù‚Ø¯Ù…Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹](#-Ù…Ù‚Ø¯Ù…Ø©-Ø§Ù„Ù…Ø´Ø±ÙˆØ¹)
- [Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ ÙˆØ§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª](#-Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ-ÙˆØ§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª)
- [Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹](#-Ù‡ÙŠÙƒÙ„-Ø§Ù„Ù…Ø´Ø±ÙˆØ¹)
- [Ø´Ø±Ø­ Ø§Ù„ÙƒÙˆØ¯ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©](#-Ø´Ø±Ø­-Ø§Ù„ÙƒÙˆØ¯-Ø®Ø·ÙˆØ©-Ø¨Ø®Ø·ÙˆØ©)
- [Ø§Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„ÙƒØ§Ù…Ù„Ø©](#-Ø§Ù„Ø­Ù„ÙˆÙ„-Ø§Ù„ÙƒØ§Ù…Ù„Ø©)
- [Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ù„ØªÙ†ÙÙŠØ°](#-Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±-ÙˆØ§Ù„ØªÙ†ÙÙŠØ°)
- [Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©](#-Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª-Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©)

## ğŸ¯ Ù…Ù‚Ø¯Ù…Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

### Ø§Ù„Ù‡Ø¯Ù Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ
Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ ÙŠÙ‡Ø¯Ù Ø¥Ù„Ù‰:
- **ØªØ·Ø¨ÙŠÙ‚ Ù…Ù‡Ø§Ø±Ø§Øª Shell Scripting Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©** ÙÙŠ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ ÙˆØ§Ù‚Ø¹ÙŠ
- **Ø¯Ù…Ø¬ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ…** Ø§Ù„ØªÙŠ ØªØ¹Ù„Ù…Ù†Ø§Ù‡Ø§ ÙÙŠ Ø§Ù„Ø¯ÙˆØ±Ø©
- **Ø¥Ù†Ø´Ø§Ø¡ Ø­Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠ** Ù„Ù…Ø´ÙƒÙ„Ø© Ø­Ù‚ÙŠÙ‚ÙŠØ© ÙÙŠ Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¹Ù…Ù„
- **ØªØ·ÙˆÙŠØ± Ù…Ù‡Ø§Ø±Ø§Øª Ø­Ù„ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„** Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ©

### Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
- âœ… Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Command Line Arguments
- âœ… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ÙˆCommand Substitution
- âœ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø´Ø±ÙˆØ· if ÙˆØ­Ù„Ù‚Ø§Øª for
- âœ… Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…ØµÙÙˆÙØ§Øª (Arrays)
- âœ… Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù†Ø¸Ø§Ù… (find, tar, date)
- âœ… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª ÙˆØ§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª

## ğŸ¢ Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ ÙˆØ§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª

### Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ
```
ğŸ¢ Ø´Ø±ÙƒØ© ABC International Inc.
Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø§Ù„ÙŠØ¯ÙˆÙŠØ© Ù„Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø´ÙØ±Ø©
- âŒ ØªØ³ØªØºØ±Ù‚ ÙˆÙ‚ØªØ§Ù‹ Ø·ÙˆÙŠÙ„Ø§Ù‹
- âŒ Ø¹Ø±Ø¶Ø© Ù„Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø¨Ø´Ø±ÙŠØ©  
- âŒ ØªÙ‚Ù„Ù„ Ù…Ù† Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£Ù…Ø§Ù†
- âŒ ØªØªØ·Ù„Ø¨ Ø¹Ù…Ø§Ù„Ø© ÙƒØ«ÙŠØ±Ø©

Ø§Ù„Ù…Ù‡Ù…Ø©: Ø¥Ù†Ø´Ø§Ø¡ Ø³ÙƒØ±Ø¨Øª backup.sh ÙŠØ¹Ù…Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ÙƒÙ„ ÙŠÙˆÙ…
```

### Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ©
- ğŸ“… **ØªØ´ØºÙŠÙ„ ÙŠÙˆÙ…ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠ**
- ğŸ” **Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø© ÙÙŠ Ø¢Ø®Ø± 24 Ø³Ø§Ø¹Ø©**
- ğŸ”’ **Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù„Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø´ÙØ±Ø© ÙÙ‚Ø·**
- ğŸ“¦ **Ø¶ØºØ· ÙˆØ£Ø±Ø´ÙØ© Ø§Ù„Ù…Ù„ÙØ§Øª**
- ğŸ“‚ **Ø­ÙØ¸ ÙÙŠ Ù…Ø¬Ù„Ø¯ Ø§Ù„ÙˆØ¬Ù‡Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯**

### Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª
```bash
./backup.sh [target_directory] [destination_directory]
```

## ğŸ—ï¸ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

### Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ø§Ù„Ù…Ù‚Ø¯Ù…
```bash
#!/bin/bash

# ÙØ­Øµ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª
if [[ $# != 2 ]]; then
    echo "backup.sh target_directory_name destination_directory_name"
    exit
fi

# ÙØ­Øµ ØµØ­Ø© Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª
if [[ ! -d $1 ]] || [[ ! -d $2 ]]; then
    echo "Invalid directory path provided"
    exit
fi

# [Ø§Ù„Ù…Ù‡Ø§Ù… 1-13 ØªÙƒÙ…Ù„ Ù‡Ù†Ø§...]
```

## ğŸ“ Ø´Ø±Ø­ Ø§Ù„ÙƒÙˆØ¯ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©

### Ø§Ù„ØªØ­Ø¶ÙŠØ±Ø§Øª Ø§Ù„Ø£ÙˆÙ„ÙŠØ©

#### ÙØ­Øµ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª
```bash
if [[ $# != 2 ]]; then
    echo "backup.sh target_directory_name destination_directory_name"
    exit
fi
```
**Ø§Ù„Ø´Ø±Ø­:**
- `$#`: Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø±Ø³Ù„Ø© Ù„Ù„Ø³ÙƒØ±Ø¨Øª
- ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù‡Ù†Ø§Ùƒ Ù…Ø¹Ø§Ù…Ù„Ø§Ù† Ø¨Ø§Ù„Ø¶Ø¨Ø·
- Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ø§Ù„Ø¹Ø¯Ø¯ ØµØ­ÙŠØ­Ø§Ù‹ØŒ ÙŠØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø³ÙƒØ±Ø¨Øª

#### ÙØ­Øµ ØµØ­Ø© Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª
```bash
if [[ ! -d $1 ]] || [[ ! -d $2 ]]; then
    echo "Invalid directory path provided"
    exit
fi
```
**Ø§Ù„Ø´Ø±Ø­:**
- `-d`: ÙØ­Øµ ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ø¬Ù„Ø¯
- `!`: Ù†ÙÙŠ (NOT)
- `||`: Ø£Ùˆ (OR)
- ÙŠØªØ£ÙƒØ¯ Ø£Ù† ÙƒÙ„Ø§ Ø§Ù„Ù…Ø¬Ù„Ø¯ÙŠÙ† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù†

## ğŸ¯ Ø§Ù„Ù…Ù‡Ø§Ù… Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©

### Task 1: ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

**Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:**
```bash
targetDirectory=$1
destinationDirectory=$2
```

**Ø§Ù„Ø´Ø±Ø­:**
- `$1`: Ø§Ù„Ù…Ø¹Ø§Ù…Ù„ Ø§Ù„Ø£ÙˆÙ„ (Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…ØµØ¯Ø±)
- `$2`: Ø§Ù„Ù…Ø¹Ø§Ù…Ù„ Ø§Ù„Ø«Ø§Ù†ÙŠ (Ù…Ø¬Ù„Ø¯ Ø§Ù„ÙˆØ¬Ù‡Ø©)
- ØªØ­Ø³ÙŠÙ† Ù‚Ø§Ø¨Ù„ÙŠØ© Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ÙƒÙˆØ¯

### Task 2: Ø¹Ø±Ø¶ Ø§Ù„Ù‚ÙŠÙ…

**Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:**
```bash
echo "Target directory: $targetDirectory"
echo "Destination directory: $destinationDirectory"
```

**Ø§Ù„Ø´Ø±Ø­:**
- Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­ØªÙ‡Ø§
- Ù…ÙÙŠØ¯ Ù„Ù„ØªØ´Ø®ÙŠØµ (debugging)

### Task 3: Ø§Ù„Ø·Ø§Ø¨Ø¹ Ø§Ù„Ø²Ù…Ù†ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ

**Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:**
```bash
currentTS=$(date +%s)
```

**Ø§Ù„Ø´Ø±Ø­:**
- `date +%s`: Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ Ø¨Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ Ù…Ù†Ø° 1970
- `$()`: Command substitution
- Ù…ÙÙŠØ¯ Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø£Ø³Ù…Ø§Ø¡ Ù…Ù„ÙØ§Øª ÙØ±ÙŠØ¯Ø©

### Task 4: Ø§Ø³Ù… Ù…Ù„Ù Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©

**Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:**
```bash
backupFileName="backup-[$currentTS].tar.gz"
```

**Ø§Ù„Ø´Ø±Ø­:**
- ØµÙŠØºØ© Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù: `backup-[timestamp].tar.gz`
- Ù…Ø«Ø§Ù„: `backup-[1634571345].tar.gz`
- `.tar.gz`: Ø£Ø±Ø´ÙŠÙ Ù…Ø¶ØºÙˆØ·

### Task 5: Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ø·Ù„Ù‚ Ø§Ù„Ø­Ø§Ù„ÙŠ

**Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:**
```bash
origAbsPath=$(pwd)
```

**Ø§Ù„Ø´Ø±Ø­:**
- `pwd`: Print Working Directory
- Ø­ÙØ¸ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„ÙŠÙ‡ Ù„Ø§Ø­Ù‚Ø§Ù‹

### Task 6: Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ø·Ù„Ù‚ Ù„Ù„ÙˆØ¬Ù‡Ø©

**Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:**
```bash
cd "$destinationDirectory" || exit
destAbsPath=$(pwd)
```

**Ø§Ù„Ø´Ø±Ø­:**
- Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„ÙˆØ¬Ù‡Ø©
- `|| exit`: Ø¥Ù†Ù‡Ø§Ø¡ Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„
- Ø­ÙØ¸ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ø·Ù„Ù‚

### Task 7: Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø£ØµÙ„ÙŠ

**Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:**
```bash
cd "$origAbsPath" || exit
cd "$targetDirectory" || exit
```

**Ø§Ù„Ø´Ø±Ø­:**
- Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø£ØµÙ„ÙŠ Ø£ÙˆÙ„Ø§Ù‹
- Ø«Ù… Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù‡Ø¯Ù
- Ø¶Ù…Ø§Ù† Ø³Ù„Ø§Ù…Ø© Ø§Ù„ØªÙ†Ù‚Ù„

### Task 8: Ø­Ø³Ø§Ø¨ Ø·Ø§Ø¨Ø¹ Ø§Ù„Ø£Ù…Ø³ Ø§Ù„Ø²Ù…Ù†ÙŠ

**Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:**
```bash
yesterdayTS=$((currentTS - 24 * 60 * 60))
date -r $yesterdayTS
```

**Ø§Ù„Ø´Ø±Ø­:**
- `24 * 60 * 60`: Ø¹Ø¯Ø¯ Ø«ÙˆØ§Ù†ÙŠ Ø§Ù„ÙŠÙˆÙ… (86400)
- Ø·Ø±Ø­ Ù…Ù† Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù…Ø³
- Ù…ÙÙŠØ¯ Ù„Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø©

### Task 9: Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ù„ÙØ§Øª

**Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:**
```bash
for file in $(find . -type f -name "*.txt" -newer "/tmp/timestamp_file")
```
| Ø¬Ø²Ø¡ Ø§Ù„ÙƒÙˆØ¯                      | Ø§Ù„Ø´Ø±Ø­                                                           |
| ------------------------------ | --------------------------------------------------------------- |
| `find .`                       | Ø§Ù„Ø¨Ø­Ø« ÙŠØ¨Ø¯Ø£ Ù…Ù† Ø§Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø­Ø§Ù„ÙŠ `.`                                 |
| `-type f`                      | ÙŠØ¨Ø­Ø« ÙÙ‚Ø· Ø¹Ù† Ù…Ù„ÙØ§Øª Ø¹Ø§Ø¯ÙŠØ© (ÙˆÙ„ÙŠØ³ Ù…Ø¬Ù„Ø¯Ø§Øª)                           |
| `-name "*.txt"`                | ÙŠØ¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙŠ ØªÙ†ØªÙ‡ÙŠ Ø¨Ù€ `.txt`                            |
| `-newer "/tmp/timestamp_file"` | ÙÙ‚Ø· Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙŠ ØªÙ… **ØªØ¹Ø¯ÙŠÙ„Ù‡Ø§ Ø¨Ø¹Ø¯** Ø§Ù„Ù…Ù„Ù `/tmp/timestamp_file` |
| `$(...)`                       | ÙŠÙ†ÙÙ‘Ø° Ø§Ù„Ø£Ù…Ø± `find` ÙˆÙŠØ¶Ø¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù…ÙƒØ§Ù†Ù‡Ø§                          |
| `for file in ...`              | ÙŠÙ…Ø±Ù‘ Ø¹Ù„Ù‰ ÙƒÙ„ Ù…Ù„Ù ØªÙ… Ø¥ÙŠØ¬Ø§Ø¯Ù‡ ÙˆØ§Ø­Ø¯Ù‹Ø§ ØªÙ„Ùˆ Ø§Ù„Ø¢Ø®Ø±                      |


**Ø§Ù„Ø¨Ø¯ÙŠÙ„ Ø§Ù„Ø£ÙØ¶Ù„:**
```bash
declare -a toBackup
for file in *
```

**Ø§Ù„Ø´Ø±Ø­:**
- `declare -a`: Ø¥Ø¹Ù„Ø§Ù† Ù…ØµÙÙˆÙØ©
- Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª
- ÙŠÙ…ÙƒÙ† ØªØ®ØµÙŠØµ Ù†Ù…Ø· Ø§Ù„Ø¨Ø­Ø«

### Task 10: ÙØ­Øµ ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹Ø¯ÙŠÙ„

**Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:**
```bash
if [ stat -f %m  "$file") -gt $yesterdayTS ]; then
```

**Ø§Ù„Ø´Ø±Ø­:**
- `stat -c %Y`: ØªØ§Ø±ÙŠØ® Ø¢Ø®Ø± ØªØ¹Ø¯ÙŠÙ„ Ø¨Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ
- `-gt`: Ø£ÙƒØ¨Ø± Ù…Ù† (Greater Than)
- Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø¹ Ø·Ø§Ø¨Ø¹ Ø§Ù„Ø£Ù…Ø³ Ø§Ù„Ø²Ù…Ù†ÙŠ

### Task 11: Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…ØµÙÙˆÙØ©

**Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:**
```bash
toBackup+=("$file")
```

**Ø§Ù„Ø´Ø±Ø­:**
- `+=`: Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ù„Ù„Ù…ØµÙÙˆÙØ©
- Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø© ØªÙØ¶Ø§Ù Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©

### Task 12: Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø£Ø±Ø´ÙŠÙ

**Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:**
```bash
tar -czf "$backupFileName" "${toBackup[@]}"
```

**Ø§Ù„Ø´Ø±Ø­:**
- `tar`: Ø£Ø¯Ø§Ø© Ø§Ù„Ø£Ø±Ø´ÙØ©
- `-c`: Ø¥Ù†Ø´Ø§Ø¡ Ø£Ø±Ø´ÙŠÙ
- `-z`: Ø¶ØºØ· Ø¨Ù€ gzip
- `-f`: Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù
- `"${toBackup[@]}"`: Ø¬Ù…ÙŠØ¹ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…ØµÙÙˆÙØ©

### Task 13: Ù†Ù‚Ù„ Ø§Ù„Ø£Ø±Ø´ÙŠÙ

**Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:**
```bash
mv "$backupFileName" "$destAbsPath"
```

**Ø§Ù„Ø´Ø±Ø­:**
- Ù†Ù‚Ù„ Ø§Ù„Ø£Ø±Ø´ÙŠÙ Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„ÙˆØ¬Ù‡Ø©
- Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ø·Ù„Ù‚ Ø§Ù„Ù…Ø­ÙÙˆØ¸

## âœ… Ø§Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„ÙƒØ§Ù…Ù„Ø©

### Ø§Ù„Ø­Ù„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ

```bash
#!/bin/bash

# ÙØ­Øµ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª
if [[ $# != 2 ]]; then
    echo "backup.sh target_directory_name destination_directory_name"
    exit
fi

# ÙØ­Øµ ØµØ­Ø© Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª
if [[ ! -d $1 ]] || [[ ! -d $2 ]]; then
    echo "Invalid directory path provided"
    exit
fi

# [TASK 1] - ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
targetDirectory=$1
destinationDirectory=$2

# [TASK 2] - Ø¹Ø±Ø¶ Ø§Ù„Ù‚ÙŠÙ…
echo "Target directory: $targetDirectory"
echo "Destination directory: $destinationDirectory"

# [TASK 3] - Ø§Ù„Ø·Ø§Ø¨Ø¹ Ø§Ù„Ø²Ù…Ù†ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ
currentTS=$(date +%s)

# [TASK 4] - Ø§Ø³Ù… Ù…Ù„Ù Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
backupFileName="backup-[$currentTS].tar.gz"

# [TASK 5] - Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ø·Ù„Ù‚ Ø§Ù„Ø­Ø§Ù„ÙŠ
origAbsPath=$(pwd)

# [TASK 6] - Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ø·Ù„Ù‚ Ù„Ù„ÙˆØ¬Ù‡Ø©
cd "$destinationDirectory" || exit
destAbsPath=$(pwd)

# [TASK 7] - Ø§Ù„Ø¹ÙˆØ¯Ø© ÙˆØ§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ù‡Ø¯Ù
cd "$origAbsPath" || exit
cd "$targetDirectory" || exit

# [TASK 8] - Ø·Ø§Ø¨Ø¹ Ø§Ù„Ø£Ù…Ø³ Ø§Ù„Ø²Ù…Ù†ÙŠ
yesterdayTS=$((currentTS - 24 * 60 * 60))

# Ø¥Ø¹Ø¯Ø§Ø¯ Ù…ØµÙÙˆÙØ© Ø§Ù„Ù…Ù„ÙØ§Øª
declare -a toBackup

# [TASK 9-11] - Ø§Ù„Ø¨Ø­Ø« ÙˆØ¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù„ÙØ§Øª
for file in *; do
    # [TASK 10] - ÙØ­Øµ ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
    if [[ -f "$file" ]] && [[ $(stat -c %Y "$file") -gt $yesterdayTS ]]; then
        # [TASK 11] - Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…ØµÙÙˆÙØ©
        toBackup+=("$file")
        echo "Adding $file to backup"
    fi
done

# [TASK 12] - Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø£Ø±Ø´ÙŠÙ
if [ ${#toBackup[@]} -gt 0 ]; then
    echo "Creating backup with ${#toBackup[@]} files..."
    tar -czf "$backupFileName" "${toBackup[@]}"
    
    # [TASK 13] - Ù†Ù‚Ù„ Ù„Ù„ÙˆØ¬Ù‡Ø©
    mv "$backupFileName" "$destAbsPath"
    echo "âœ… Backup completed: $destAbsPath/$backupFileName"
else
    echo "âŒ No files found for backup"
fi

echo "ğŸ‰ Backup script completed successfully!"
```

### Ø§Ù„Ø­Ù„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Ù…Ø¹ Ù…ÙŠØ²Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©

```bash
#!/bin/bash

# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©
LOG_FILE="/var/log/backup.log"
EMAIL_ALERT="admin@example.com"
ENCRYPTION_PATTERN="*.gpg"  # Ù„Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø´ÙØ±Ø©

# Ø¯Ø§Ù„Ø© Ù„Ù„ÙƒØªØ§Ø¨Ø© ÙÙŠ Ø§Ù„Ø³Ø¬Ù„
log_message() {
    echo "$(date '+%Y-%m-%d %H:%M:%S'): $1" | tee -a "$LOG_FILE"
}

# Ø¯Ø§Ù„Ø© Ù„Ø¥Ø±Ø³Ø§Ù„ ØªØ­Ø°ÙŠØ±Ø§Øª
send_alert() {
    local message="$1"
    echo "$message" | mail -s "Backup Alert" "$EMAIL_ALERT" 2>/dev/null
    log_message "ALERT: $message"
}

# Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø³ÙƒØ±Ø¨Øª
log_message "Starting backup script"

# ÙØ­Øµ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª
if [[ $# != 2 ]]; then
    error_msg="Usage: backup.sh target_directory_name destination_directory_name"
    echo "$error_msg"
    log_message "ERROR: $error_msg"
    exit 1
fi

# ÙØ­Øµ ØµØ­Ø© Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª
if [[ ! -d $1 ]] || [[ ! -d $2 ]]; then
    error_msg="Invalid directory path provided"
    echo "$error_msg"
    log_message "ERROR: $error_msg"
    exit 1
fi

# ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
targetDirectory=$1
destinationDirectory=$2

log_message "Target: $targetDirectory, Destination: $destinationDirectory"

# Ø§Ù„Ø·Ø§Ø¨Ø¹ Ø§Ù„Ø²Ù…Ù†ÙŠ
currentTS=$(date +%s)
currentDate=$(date '+%Y-%m-%d_%H-%M-%S')

# Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù Ù…Ø¹ ØªØ§Ø±ÙŠØ® Ø£ÙƒØ«Ø± ÙˆØ¶ÙˆØ­Ø§Ù‹
backupFileName="backup-${currentDate}-[${currentTS}].tar.gz"

# Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø·Ù„Ù‚Ø©
origAbsPath=$(pwd)

cd "$destinationDirectory" || {
    send_alert "Failed to access destination directory: $destinationDirectory"
    exit 1
}
destAbsPath=$(pwd)

cd "$origAbsPath" || exit
cd "$targetDirectory" || {
    send_alert "Failed to access target directory: $targetDirectory"
    exit 1
}

# Ø­Ø³Ø§Ø¨ Ø·Ø§Ø¨Ø¹ Ø§Ù„Ø£Ù…Ø³
yesterdayTS=$((currentTS - 24 * 60 * 60))
log_message "Looking for files modified after $(date -d @$yesterdayTS)"

# Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø´ÙØ±Ø© Ø§Ù„Ù…Ø­Ø¯Ø«Ø©
declare -a toBackup
file_count=0
total_size=0

for file in $ENCRYPTION_PATTERN; do
    if [[ -f "$file" ]]; then
        file_mod_time=$(stat -c %Y "$file")
        if [[ $file_mod_time -gt $yesterdayTS ]]; then
            toBackup+=("$file")
            file_size=$(stat -c %s "$file")
            total_size=$((total_size + file_size))
            ((file_count++))
            log_message "Added to backup: $file ($(du -h "$file" | cut -f1))"
        fi
    fi
done

# Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
if [ ${#toBackup[@]} -gt 0 ]; then
    log_message "Creating backup with $file_count files ($(du -h "${toBackup[@]}" | tail -1 | cut -f1) total)"
    
    # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø£Ø±Ø´ÙŠÙ Ù…Ø¹ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
    tar -czf "$backupFileName" "${toBackup[@]}" 2>/dev/null
    
    if [ $? -eq 0 ]; then
        # Ù†Ù‚Ù„ Ù„Ù„ÙˆØ¬Ù‡Ø©
        mv "$backupFileName" "$destAbsPath/" 2>/dev/null
        
        if [ $? -eq 0 ]; then
            backup_size=$(du -h "$destAbsPath/$backupFileName" | cut -f1)
            success_msg="âœ… Backup completed successfully: $destAbsPath/$backupFileName ($backup_size)"
            echo "$success_msg"
            log_message "$success_msg"
            
            # ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© (Ø£ÙƒØ«Ø± Ù…Ù† 30 ÙŠÙˆÙ…)
            find "$destAbsPath" -name "backup-*.tar.gz" -mtime +30 -delete 2>/dev/null
            log_message "Cleaned up old backups"
        else
            send_alert "Failed to move backup file to destination"
            exit 1
        fi
    else
        send_alert "Failed to create backup archive"
        exit 1
    fi
else
    warning_msg="âŒ No encrypted files found for backup in the last 24 hours"
    echo "$warning_msg"
    log_message "$warning_msg"
fi

log_message "Backup script completed successfully"
echo "ğŸ‰ Backup operation finished!"
```

## ğŸ§ª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ù„ØªÙ†ÙÙŠØ°

### Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨ÙŠØ¦Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±

```bash
# Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù„Ø¯Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
mkdir -p ~/test_backup/{source,destination}

# Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„ÙØ§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©
cd ~/test_backup/source
echo "Test file 1" > file1.txt
echo "Test file 2" > file2.txt
echo "Old file" > old_file.txt

# Ø¬Ø¹Ù„ Ù…Ù„Ù Ù‚Ø¯ÙŠÙ…
touch -t 202301010000 old_file.txt

# Ø¥Ø¶Ø§ÙØ© ØµÙ„Ø§Ø­ÙŠØ© ØªÙ†ÙÙŠØ° Ù„Ù„Ø³ÙƒØ±Ø¨Øª
chmod +x backup.sh
```

### ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³ÙƒØ±Ø¨Øª
./backup.sh ~/test_backup/source ~/test_backup/destination

# ÙØ­Øµ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
ls -la ~/test_backup/destination/
```

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ©

```bash
# Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø®Ø§Ø·Ø¦Ø©
./backup.sh  # Ø¨Ø¯ÙˆÙ† Ù…Ø¹Ø§Ù…Ù„Ø§Øª
./backup.sh only_one_param  # Ù…Ø¹Ø§Ù…Ù„ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø·
./backup.sh /nonexistent /also_nonexistent  # Ù…Ø³Ø§Ø±Ø§Øª ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©

# Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø¹ Ù…Ù„ÙØ§Øª Ù…Ø­Ø¯Ø«Ø©
touch ~/test_backup/source/new_file.txt
./backup.sh ~/test_backup/source ~/test_backup/destination
```

## ğŸš€ Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©

### Ø¥Ø¶Ø§ÙØ© Ø¬Ø¯ÙˆÙ„Ø© Cron

```bash
# Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù€ crontab Ù„Ù„ØªØ´ØºÙŠÙ„ ÙŠÙˆÙ…ÙŠØ§Ù‹ Ø§Ù„Ø³Ø§Ø¹Ø© 2 ØµØ¨Ø§Ø­Ø§Ù‹
0 2 * * * /path/to/backup.sh /data/encrypted /backups/daily >> /var/log/backup_cron.log 2>&1
```

### Ø¥Ø¶Ø§ÙØ© Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ

```bash
# ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø³ÙƒØ±Ø¨Øª
echo "Backup Summary: $file_count files backed up" | \
mail -s "Daily Backup Report" admin@company.com
```

### Ø¥Ø¶Ø§ÙØ© ØªØ´ÙÙŠØ± Ø¥Ø¶Ø§ÙÙŠ

```bash
# ØªØ´ÙÙŠØ± Ø§Ù„Ø£Ø±Ø´ÙŠÙ
gpg --symmetric --cipher-algo AES256 "$backupFileName"
rm "$backupFileName"  # Ø­Ø°Ù Ø§Ù„Ù†Ø³Ø®Ø© ØºÙŠØ± Ø§Ù„Ù…Ø´ÙØ±Ø©
```

### Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡

```bash
# Ù‚ÙŠØ§Ø³ ÙˆÙ‚Øª Ø§Ù„ØªÙ†ÙÙŠØ°
start_time=$(date +%s)
# ... Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ ...
end_time=$(date +%s)
execution_time=$((end_time - start_time))
log_message "Backup completed in $execution_time seconds"
```

